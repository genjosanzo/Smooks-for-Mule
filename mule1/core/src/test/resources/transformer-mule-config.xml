<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mule-configuration PUBLIC "-//MuleSource //DTD mule-configuration XML V1.0//EN" "http://mule.mulesource.org/dtds/mule-configuration.dtd">

<mule-configuration id="Mule_Smooks_Example" version="1.0">

    <description>
        This config is for the unit testing
    </description>

    <transformers>
        <transformer name="SmooksTransformer"  className="org.milyn.smooks.mule.Transformer">
        	<properties>
        		<property name="configFile" value="transformer-smooks-config.xml"/>
      			<property name="executionContextAsMessageProperty" value="true" />
				<property name="executionContextMessagePropertyKey" value="smooks.executionContext" />
				<property name="excludeNonSerializables" value="true" />
        	</properties>
        </transformer>
    </transformers>

    <model name="Test">
        <mule-descriptor name="Test" implementation="org.mule.components.simple.BridgeComponent">
			 <inbound-router>
                <endpoint address="vm://messageInput" transformers="SmooksTransformer"/>
            </inbound-router>

            <outbound-router>
                <router className="org.mule.routing.outbound.OutboundPassThroughRouter">
                    <endpoint address="stream://System.out"/>
                </router>
            </outbound-router>
        </mule-descriptor>
    </model>

</mule-configuration>
